<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My GitHub Games</title>
<link rel="icon" href="https://www.google.com/favicon.ico">

<style>
/* ===== CSS VARIABLES ===== */
:root {
  --button-text-color: white;
  --background-color: #020617;
  --button-color: #020617;
  --button-hover-color: #334155;
  --top-bar-color: #020617;
  --top-bar-btn-color: #1e293b;
  --top-bar-btn-hover: #334155;
}

/* ===== GLOBAL ===== */
body {
  margin: 0;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: var(--background-color);
  color: white;
  height: 100vh;
  overflow: hidden;
}

input {
  color: white !important;
  background: #1e293b;
  border: none;
  border-radius: 6px;
  padding: 6px 8px;
}
input::placeholder {
  color: #cbd5e1 !important;
}

/* ===== TOP BAR ===== */
.grid-top-bar {
  height: 48px;
  background: var(--top-bar-color);
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 12px;
  padding: 0 16px;
  border-bottom: 1px solid #1e293b;
  z-index: 50;
  position: sticky;
  top: 0;
}

.icon-btn {
  background: var(--top-bar-btn-color);
  border: none;
  color: white;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 18px;
  transition: all 0.2s ease;
}

.icon-btn:hover {
  background: var(--top-bar-btn-hover);
  transform: scale(1.1);
}

/* ===== GRID ===== */
.grid-wrapper {
  height: calc(100vh - 48px);
  display: flex;
  flex-direction: column;
}

.game-grid {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-auto-rows: 280px;
  gap: 18px;
  padding: 20px;
  overflow-y: auto;
}

.game-btn {
  border: none;
  border-radius: 18px;
  cursor: pointer;
  position: relative;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: var(--button-color);
  transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
}

.game-btn:hover {
  transform: scale(1.03) translateY(-4px);
  background: var(--button-hover-color);
  box-shadow: 0 0 15px rgba(56,189,248,0.45), 0 0 35px rgba(56,189,248,0.25);
}

.game-btn:active {
  transform: scale(0.97);
}

.game-btn img {
  width: 100%;
  height: 84%;
  object-fit: cover;
}

.game-title {
  height: 16%;
  background: rgba(2,6,23,0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 17px;
  text-align: center;
  color: var(--button-text-color);
}

/* Hover shine */
.game-btn::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -80%;
  width: 50%;
  height: 200%;
  background: linear-gradient(120deg, transparent, rgba(255,255,255,0.25), transparent);
  transform: rotate(25deg);
}
.game-btn:hover::before {
  animation: shine 0.8s ease forwards;
}
@keyframes shine {
  from { left: -80%; }
  to { left: 130%; }
}

/* ===== GAME VIEW ===== */
.game-view {
  display: none;
  flex-direction: column;
  height: 100vh;
  background: black;
}

.top-bar {
  height: 50px;
  background: var(--top-bar-color);
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 10px;
  padding: 0 15px;
  border-bottom: 1px solid #1e293b;
}

.top-bar button {
  background: var(--top-bar-btn-color);
  border: none;
  color: white;
  padding: 6px 14px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.15s ease;
}

.top-bar button:hover {
  background: var(--top-bar-btn-hover);
}

/* ===== IFRAME ===== */
iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* ===== MODALS ===== */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  color: white;
}

.modal-box {
  background: #020617;
  padding: 20px;
  border-radius: 14px;
  width: 300px;
  text-align: center;
  box-shadow: 0 0 20px rgba(0,0,0,0.5);
}

.settings-btn {
  width: 100%;
  padding: 8px;
  background: #1e293b;
  border: none;
  color: white;
  border-radius: 8px;
  cursor: pointer;
  margin-bottom: 8px;
}

.settings-btn:hover {
  background: #334155;
}

.close-btn {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
}
</style>
</head>
<body>

<!-- ===== GRID VIEW ===== -->
<div class="grid-wrapper" id="grid">
  <div class="grid-top-bar">
    <button class="icon-btn" onclick="location.reload()">⟳</button>
    <button class="icon-btn" onclick="openSettings()">⚙</button>
  </div>

  <div class="game-grid">
    <button class="game-btn" onclick="loadGame('https://kirbscozycavern.neocities.org/blockblast')">
      <img src="game1.png">
      <div class="game-title">Block Blast</div>
    </button>

    <button class="game-btn" onclick="loadGame('https://script.google.com/a/macros/tiftschools.com/s/AKfycbyAW2mW4PFWaL-rMtDJgqiwL0OxsMwtBoiaFgeS_p0_f6VesYcbHDBlxoVBylXcwWrJGg/exec')">
      <img src="game2.png">
      <div class="game-title">Learn to Fly 1</div>
    </button>

    <button class="game-btn" onclick="loadGame('https://script.google.com/a/macros/tiftschools.com/s/AKfycbyQ8tw1lAF6zuhWGKqG4hys1Jyw2DEPVK8VapKP-BZsAPqvrRgYThV1bPpT7MYzj3kdHw/exec')">
      <img src="game4.png">
      <div class="game-title">Learn to Fly 2</div>
    </button>

    <button class="game-btn" onclick="loadGame('https://script.google.com/a/macros/tiftschools.com/s/AKfycbz8B4YTMrlWe7ul3V8pbgwG4vISWcoX71Y165LYedQWooJtMs8Ox3A9vyXUhEjCiqL-/exec')">
      <img src="game5.png">
      <div class="game-title">Learn to Fly 3</div>
    </button>

    <button class="game-btn" onclick="loadGame('https://kirbscozycavern.neocities.org/trex')">
      <img src="game2.png">
      <div class="game-title">Dinosaur Game</div>
    </button>

    <button class="game-btn" onclick="loadGame('https://kirbscozycavern.neocities.org/stack')">
      <img src="game6.png">
      <div class="game-title">Stack</div>
    </button>

    <button class="game-btn" onclick="loadGame('https://kirbscozycavern.neocities.org/deltarune/')">
      <img src="game7.png">
      <div class="game-title">Deltarune</div>
    </button>
  </div>
</div>

<!-- ===== GAME VIEW ===== -->
<div class="game-view" id="gameView">
  <div class="top-bar">
    <button onclick="goBack()">Go Back</button>
  </div>
  <iframe id="gameFrame"></iframe>
</div>

<!-- ===== SETTINGS MODAL ===== -->
<div class="modal" id="settingsModal">
  <div class="modal-box">
    <h3>Settings</h3>

    <label>Text Color:</label>
    <input type="color" id="textColorPicker">

    <label>Background Color:</label>
    <input type="color" id="bgColorPicker">

    <label>Button Color:</label>
    <input type="color" id="btnColorPicker">

    <label>Button Hover Color:</label>
    <input type="color" id="btnHoverPicker">

    <button class="settings-btn" onclick="openCloak()">Tab Cloak</button>
    <button class="close-btn" onclick="closeSettings()">Close</button>
  </div>
</div>

<!-- ===== TAB CLOAK MODAL ===== -->
<div class="modal" id="cloakModal">
  <div class="modal-box">
    <h3>Tab Cloak</h3>
    <input id="cloakInput" placeholder="Tab name (e.g. Google Docs)">
    <button class="settings-btn" onclick="applyCloak()">Apply</button>
    <button class="close-btn" onclick="closeCloak()">Cancel</button>
  </div>
</div>

<script>
// ==== ELEMENTS ====
const textColorPicker = document.getElementById("textColorPicker");
const bgColorPicker = document.getElementById("bgColorPicker");
const btnColorPicker = document.getElementById("btnColorPicker");
const btnHoverPicker = document.getElementById("btnHoverPicker");

// ==== LOAD SAVED COLORS ====
['button-text-color','background-color','button-color','button-hover-color'].forEach(prop => {
  const val = localStorage.getItem(prop);
  if(val) document.documentElement.style.setProperty(`--${prop}`, val);
});
textColorPicker.value = getComputedStyle(document.documentElement).getPropertyValue('--button-text-color').trim();
bgColorPicker.value = getComputedStyle(document.documentElement).getPropertyValue('--background-color').trim();
btnColorPicker.value = getComputedStyle(document.documentElement).getPropertyValue('--button-color').trim();
btnHoverPicker.value = getComputedStyle(document.documentElement).getPropertyValue('--button-hover-color').trim();

// ==== COLOR PICKERS ====
textColorPicker.addEventListener("input", e => { 
  document.documentElement.style.setProperty('--button-text-color', e.target.value);
  localStorage.setItem('button-text-color', e.target.value);
});
bgColorPicker.addEventListener("input", e => { 
  document.documentElement.style.setProperty('--background-color', e.target.value);
  localStorage.setItem('background-color', e.target.value);
});
btnColorPicker.addEventListener("input", e => { 
  document.documentElement.style.setProperty('--button-color', e.target.value);
  localStorage.setItem('button-color', e.target.value);
});
btnHoverPicker.addEventListener("input", e => { 
  document.documentElement.style.setProperty('--button-hover-color', e.target.value);
  localStorage.setItem('button-hover-color', e.target.value);
});

// ==== GAME VIEW ====
function loadGame(url){
  grid.style.display="none";
  gameView.style.display="flex";
  gameFrame.src=url;
}
function goBack(){
  gameView.style.display="none";
  grid.style.display="flex";
  gameFrame.src="";
}

// ==== SETTINGS MODAL ====
function openSettings(){ settingsModal.style.display="flex"; }
function closeSettings(){ settingsModal.style.display="none"; }

// ==== CLOAK MODAL ====
function openCloak(){ closeSettings(); cloakModal.style.display="flex"; }
function closeCloak(){ cloakModal.style.display="none"; }
function applyCloak(){ const n=cloakInput.value; if(n) document.title=n; closeCloak(); }

</script>
</body>
</html>
